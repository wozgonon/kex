<html>
  <head>
    <title>Flowers for Nicky</title>


    <script>
      function redraw () {
      bifurcate (canvas.width/2, canvas.height/2, 100, Math.PI / 180 * 10, 4)
      }
      </script>
  </head>
  <body>
    <H1>Flowers</H1>

    <button onClick="redraw">Draw</button>

    <canvas id="flowers_canvas" width="800" height="700"></canvas>

  </body>

  <script>

    let canvas = document.getElementById ("flowers_canvas")
    let ctx = canvas.getContext("2d")

    function bifurcate (x, y, radius, angle, n) {

    if (n <= 0) {
      return
    }
    const rate = .9
    //console.log ("x=" + x + " y=" + y)
    ctx.lineTo (x, y)

    let x1 = x + radius * Math.cos (-angle - Math.PI/2)
    let y1 = y + radius * Math.sin (-angle - Math.PI/2)

    let x2 = x + radius * Math.cos (angle - Math.PI/2)
    let y2 = y + radius * Math.sin (angle - Math.PI/2)

    bifurcate (x1, y1, radius*.9, -angle*rate, n-1)
    ctx.moveTo (x, y)
    bifurcate (x2, y2, radius*.9, angle*rate, n-1)

    }

    ctx.beginPath ()
    //ctx.rotate(Math.PI/2)
    let x0 = canvas.width/2
    let y0 = canvas.height/2
    ctx.moveTo(x0,y0)
    ctx.lineTo(x0,y0-50)
    bifurcate (x0, y0-50, 50, Math.PI / 180 * 30, 10)
    ctx.stroke ()
  </script>
</html>
